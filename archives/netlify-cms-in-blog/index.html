<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.57.2"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Sharing light, even in death"><title>使用 Netlify CMS 作为博客的 CMS - Indexyz Blog</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/spectre.css@0.5.8/dist/spectre.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=https://blog.indexyz.me/css/syntax.css><link rel=stylesheet href=https://blog.indexyz.me/sass/main.min.bfe6bc4bb48fe5e39fc1dcbd6f38413f8c6c9bfcbb5541281b9be860cf0c3d8b.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/disqusjs@1.2/dist/disqusjs.css><script src=https://cdn.jsdelivr.net/npm/disqusjs@1.1/dist/disqus.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-97074604-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-97074604-1');</script></head><body><header id=page-header><div class="container grid-lg"><a href=https://blog.indexyz.me/ class=title>Indexyz Blog</a><h2 class=description>Sharing light, even in death</h2><div><nav id=nav-menu role=navigation><a href=/>首页</a>
<a href=/friends/>友链</a></nav></div></div></header><main><div class="container grid-lg"><section id=posts class=post-single><article temscope itemtype=http://schema.org/Article><header><h1 class=post-title itemprop="name headline"><a href=https://blog.indexyz.me/archives/netlify-cms-in-blog/ itemprop=url>使用 Netlify CMS 作为博客的 CMS</a></h1><div class=post-meta-list><span class=post-meta><span>时间:</span>
<time datetime=2019-10-23T07:45:52Z>2019-10-23</time></span>
<span class=post-meta><span>分类:</span>
<a href=/categories/blog itemprop=url rel=index><span itemprop=name>Blog</span></a>
&nbsp;</span></span></div></header><div class=post-body itemprop=articleBody><p>之前从大佬那里知道了 <code>netlify cms</code> 正好换成了 Hugo 之后缺一个方便的方法来编辑页面, 所以今天有空配置了一下.</p><h2 id=安装>安装</h2><p>安装十分的便捷, 在想要的路径下面丢进去一个 <code>index.html</code> 和一个配置文件就好了</p><p>我才用了 GitHub 作为数据源, 所以还需要在 Netlify 中的 site 加上 GitHub 的 app</p><p>具体怎么添加可以看官方的 <a href=https://www.netlifycms.org/docs/authentication-backends/#github-backend>doc</a></p><p>下面是我站点的 config</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln> 1</span>backend<span class=p>:</span><span class=w>
</span><span class=ln> 2</span><span class=w>  </span>name<span class=p>:</span><span class=w> </span>github<span class=w>
</span><span class=ln> 3</span><span class=w>  </span>repo<span class=p>:</span><span class=w> </span>Indexyz/blog.indexyz.me<span class=w>
</span><span class=ln> 4</span><span class=w>  </span>accept_roles<span class=p>:</span><span class=w>
</span><span class=ln> 5</span><span class=w>    </span>-<span class=w> </span>admin<span class=w>
</span><span class=ln> 6</span><span class=w>
</span><span class=ln> 7</span><span class=w></span>media_folder<span class=p>:</span><span class=w> </span>static/img<span class=w>
</span><span class=ln> 8</span><span class=w></span>public_folder<span class=p>:</span><span class=w> </span>/img<span class=w>
</span><span class=ln> 9</span><span class=w>
</span><span class=ln>10</span><span class=w></span>slug<span class=p>:</span><span class=w>
</span><span class=ln>11</span><span class=w>  </span>encoding<span class=p>:</span><span class=w> </span><span class=s2>&#34;ascii&#34;</span><span class=w>
</span><span class=ln>12</span><span class=w>  </span>clean_accents<span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=ln>13</span><span class=w>  </span>sanitize_replacement<span class=p>:</span><span class=w> </span><span class=s2>&#34;_&#34;</span><span class=w>
</span><span class=ln>14</span><span class=w>
</span><span class=ln>15</span><span class=w></span>collections<span class=p>:</span><span class=w>
</span><span class=ln>16</span><span class=w>  </span>-<span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;posts&#34;</span><span class=w>
</span><span class=ln>17</span><span class=w>    </span>label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Post&#34;</span><span class=w>
</span><span class=ln>18</span><span class=w>    </span>folder<span class=p>:</span><span class=w> </span><span class=s2>&#34;content/posts&#34;</span><span class=w>
</span><span class=ln>19</span><span class=w>    </span>create<span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=ln>20</span><span class=w>    </span>fields<span class=p>:</span><span class=w>
</span><span class=ln>21</span><span class=w>      </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Title&#34;</span><span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;title&#34;</span><span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span><span class=s2>&#34;string&#34;</span>}<span class=w>
</span><span class=ln>22</span><span class=w>      </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Publish Date&#34;</span><span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;date&#34;</span><span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span><span class=s2>&#34;datetime&#34;</span>}<span class=w>
</span><span class=ln>23</span><span class=w>      </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Updated Date&#34;</span><span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;updated&#34;</span><span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span><span class=s2>&#34;datetime&#34;</span>}<span class=w>
</span><span class=ln>24</span><span class=w>      </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Tags&#34;</span><span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;tags&#34;</span><span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span><span class=s2>&#34;list&#34;</span>}<span class=w>
</span><span class=ln>25</span><span class=w>      </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Categories&#34;</span><span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;categories&#34;</span><span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span><span class=s2>&#34;list&#34;</span>}<span class=w>
</span><span class=ln>26</span><span class=w>      </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Body&#34;</span><span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;body&#34;</span><span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span><span class=s2>&#34;markdown&#34;</span>}<span class=w>
</span><span class=ln>27</span><span class=w>  </span>-<span class=w> </span>name<span class=p>:</span><span class=w> </span>pages<span class=w>
</span><span class=ln>28</span><span class=w>    </span>label<span class=p>:</span><span class=w> </span>Pages<span class=w>
</span><span class=ln>29</span><span class=w>    </span>files<span class=p>:</span><span class=w>
</span><span class=ln>30</span><span class=w>      </span>-<span class=w> </span>label<span class=p>:</span><span class=w> </span>Friend<span class=w> </span>Links<span class=w>
</span><span class=ln>31</span><span class=w>        </span>name<span class=p>:</span><span class=w> </span>friends<span class=w>
</span><span class=ln>32</span><span class=w>        </span>file<span class=p>:</span><span class=w> </span>content/friends.md<span class=w>
</span><span class=ln>33</span><span class=w>        </span>fields<span class=p>:</span><span class=w>
</span><span class=ln>34</span><span class=w>          </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Title&#34;</span><span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;title&#34;</span><span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span><span class=s2>&#34;string&#34;</span>}<span class=w>
</span><span class=ln>35</span><span class=w>          </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Layout&#34;</span><span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;layout&#34;</span><span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span><span class=s2>&#34;hidden&#34;</span><span class=p>,</span><span class=w> </span>default<span class=p>:</span><span class=w> </span><span class=s2>&#34;card&#34;</span>}<span class=w>
</span><span class=ln>36</span><span class=w>          </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span><span class=s2>&#34;Type&#34;</span><span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span><span class=s2>&#34;type&#34;</span><span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span><span class=s2>&#34;hidden&#34;</span><span class=p>,</span><span class=w> </span>default<span class=p>:</span><span class=w> </span><span class=s2>&#34;links&#34;</span>}<span class=w>
</span><span class=ln>37</span><span class=w>          </span>-<span class=w> </span>label<span class=p>:</span><span class=w> </span>Links<span class=w>
</span><span class=ln>38</span><span class=w>            </span>name<span class=p>:</span><span class=w> </span>links<span class=w>
</span><span class=ln>39</span><span class=w>            </span>widget<span class=p>:</span><span class=w> </span>list<span class=w>
</span><span class=ln>40</span><span class=w>            </span>fields<span class=p>:</span><span class=w>
</span><span class=ln>41</span><span class=w>              </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span>Name<span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span>name<span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span>string}<span class=w>
</span><span class=ln>42</span><span class=w>              </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span>Description<span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span>descp<span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span>string}<span class=w>
</span><span class=ln>43</span><span class=w>              </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span>URL<span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span>url<span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span>text}<span class=w>
</span><span class=ln>44</span><span class=w>              </span>-<span class=w> </span>{label<span class=p>:</span><span class=w> </span>Image<span class=p>,</span><span class=w> </span>name<span class=p>:</span><span class=w> </span>image<span class=p>,</span><span class=w> </span>widget<span class=p>:</span><span class=w> </span>image}</code></pre></div><p>可以非常简单的管理生成前的页面</p><p><img src=https://i.loli.net/2019/10/23/qSOo913CJk5YavB.png alt=image.png></p><p>安装完成之后打开进行 GitHub OAuth 就可以进入到后台了</p><h2 id=目前不足>目前不足</h2><p>在 Post 列表不能对 Post 进行排序, 默认貌似是按文章的名称字典序排序, 这就导致和找一个 Post 会比较难找</p><p>不过官方也说 <a href=https://github.com/netlify/netlify-cms/issues/54>在做了</a>（但是这个 issue 是 2016 年的</p></div></article><ul class=pagination><li class="page-item page-prev"><a href=https://blog.indexyz.me/archives/run-sspanel-uim-with-docker/><div class=page-item-subtitle>上一篇</div><div class="page-item-title h5">使用 Docker 快速的运行 SSPanel-UIM</div></a></li><li class="page-item page-next"><a href=https://blog.indexyz.me/archives/2019-ustc-hackergame-writeup/><div class=page-item-subtitle>下一篇</div><div class="page-item-title h5">2019 USTC HackerGame Writeup</div></a></li></ul><div id=disqus_thread></div><script>new DisqusJS(JSON.parse("{\"api\":\"https://disqus.skk.moe/disqus/\",\"apikey\":\"VtpQwhbhO3YTIYSZdx1N8vOJ6me3une1xSIeXhpuPcE4jurE17UlJozkc9qhvjDw\",\"shortname\":\"indexyz-blog\",\"sitename\":\"Indexyz Blog\"}"))</script></section></div></main><footer class=page-footer><p>Copyright © 2018-2020, Indexyz</p><p>Power by
<a href=https://gohugo.io/>Hugo</a> | Theme
<a href=https://github.com/Indexyz/hugo-theme-index/>Index</a></p></footer></body></html>